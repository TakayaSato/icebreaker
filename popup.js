const defaultQuestions = [
    "最近ハマっている趣味や楽しみは何ですか？",
    "あなたが一番好きな食べ物は何ですか？",
    "好きな季節とその理由は？",
    "最近観て面白かった映画やドラマは？",
    "おすすめの本や漫画はありますか？",
    "一番好きな音楽ジャンルやアーティストは？",
    "行ってみたい国や場所はどこですか？",
    "犬派ですか？猫派ですか？",
    "最近おすすめのYouTubeチャンネルやPodcastは？",
    "一番好きな休日の過ごし方は？",
    "子どもの頃の夢は何でしたか？",
    "学生時代、一番好きだった教科は？",
    "子どもの頃に好きだったおもちゃやゲームは？",
    "初めて買ったCDや音楽は何でしたか？",
    "子どもの頃の印象的な思い出を教えてください。",
    "子どものころに戻れるなら、どの年齢に戻りたい？",
    "子どものころ苦手だった食べ物はありますか？",
    "子どものころ、親に怒られた印象的なエピソードは？",
    "子どもの頃に読んでいた漫画やアニメは何ですか？",
    "学生時代の印象的な学校行事は？",
    "無人島に1つだけ持っていくなら何ですか？",
    "宝くじで1億円当たったら、まず何に使いますか？",
    "世界のどこにでも住めるとしたら、どこに住みたい？",
    "タイムマシンで過去か未来に行けるとしたらどちらへ行く？",
    "透明人間になれたら、まず何をしますか？",
    "どんな動物にでもなれるなら、何になりますか？",
    "1日だけ誰かと入れ替われるなら誰になりたい？",
    "超能力が一つ手に入るなら、どんな能力が欲しいですか？",
    "歴史上の人物と話せるなら、誰と話したい？",
    "一生同じ料理しか食べられないなら何を選びますか？",
    "自分の性格を一言で表すと？",
    "今までで一番影響を受けた人は誰ですか？",
    "自分の好きなところを１つ挙げるなら？",
    "最近、自分が変わったなと感じることは？",
    "尊敬している有名人や人物は？",
    "人生で大切にしている考えや価値観は？",
    "自分にとっての理想の休日とは？",
    "友人や家族からよく言われるあなたの特徴は？",
    "仕事や生活でストレス解消する方法は？",
    "新しい環境に馴染むときに意識することは？",
    "朝はパン派？ご飯派？",
    "お酒は好きですか？お気に入りのお酒は？",
    "コーヒー派ですか？紅茶派ですか？",
    "最近買ったもので一番よかったものは？",
    "普段よく使うアプリやサービスは？",
    "今一番欲しいものは何ですか？",
    "どんなジャンルの服が好きですか？",
    "最近挑戦した新しいことは？",
    "普段のリラックス方法は？",
    "普段持ち歩く必需品を教えてください。",
    "自分を動物に例えると何ですか？",
    "宇宙人はいると思いますか？",
    "おばけは信じますか？",
    "ゾンビ映画で生き残る自信はありますか？",
    "映画や漫画の世界に住めるならどの作品を選びますか？",
    "もし動物と話せるようになったら、何を話しますか？",
    "一番苦手な家事や作業は？",
    "もし生まれ変わったら何になりたい？",
    "死ぬまでにやってみたい変なことはありますか？",
    "自分を色で表すと何色？",
    "今まで旅行した中で最高だった場所は？",
    "行きたいけど行けていない場所はどこ？",
    "旅行のときの荷物は多い方？少ない方？",
    "一人旅派ですか？グループ旅派ですか？",
    "旅先でのハプニングや失敗談を教えてください。",
    "海派？山派？",
    "国内旅行と海外旅行どちらが好き？",
    "次に行きたい場所はどこ？",
    "旅行先で必ずすることは？",
    "飛行機は好きですか？苦手ですか？",
    "今の仕事を選んだ理由は？",
    "仕事をする上で一番大事にしていることは？",
    "もし別の仕事に就くとしたら何をしたい？",
    "働くモチベーションは何ですか？",
    "今までで印象的だった仕事の失敗談は？",
    "職場の人間関係で意識していることは？",
    "一番やりがいを感じる瞬間は？",
    "新入社員の頃の印象的なエピソードは？",
    "理想の働き方や勤務形態は？",
    "将来的なキャリアの目標やビジョンは？",
    "普段運動はしていますか？している場合は何を？",
    "健康のために気をつけていることは？",
    "朝型？夜型？",
    "最近寝る前にやっているルーティンは？",
    "おすすめのストレス発散法は？",
    "普段の睡眠時間はどのくらい？",
    "健康的に過ごすためにやりたいことは？",
    "最近食べて美味しかった健康的な料理は？",
    "好きな運動やスポーツは？",
    "日常生活で心がけていることは？",
    "5年後の自分はどうなっていたいですか？",
    "老後の夢や理想の暮らし方は？",
    "これから挑戦したいことや目標は？",
    "人生で絶対にやりたいことは？",
    "10年後に残っていると思う趣味や習慣は？",
    "今すぐ新しい趣味を始めるなら何？",
    "今年中にやってみたいことは？",
    "将来的に住んでみたい都市や地域は？",
    "人生の中でぜひ訪れてみたい場所は？",
    "自分が80歳になったとき、どうなっていたいですか？",
    "初対面の人と話す時に意識していることは？",
    "これだけは絶対譲れないというこだわりはありますか？",
    "好きなスポーツチームや選手はいますか？",
    "最近食べて感動した料理やスイーツは？",
    "人生の中で一番勇気を出した瞬間は？",
    "思わず買ってしまうものは何ですか？",
    "行きつけのお店やレストランはありますか？",
    "あなたにとって理想のリーダーとはどんな人？",
    "最近、一番笑った出来事は？",
    "理想の朝食メニューを教えてください。",
    "最近学んだ新しい知識や豆知識はありますか？",
    "仕事やプライベートで影響を受けた映画やドラマは？",
    "人生の中で一番感謝していることは？",
    "今一番克服したい苦手なことは？",
    "お気に入りのスマホアプリを1つ教えてください。",
    "自分をドラマや映画のキャラクターに例えるなら？",
    "友達と集まったらよくすることは？",
    "もし外国語を一瞬で習得できるなら何語を選びますか？",
    "あなたが大切にしている習慣は何ですか？",
    "一日の終わりに必ずやることは？",
    "昔嫌いだったけど今は好きなものはありますか？",
    "何をしている時に幸せを感じますか？",
    "おすすめの勉強法や集中法はありますか？",
    "好きな名言や格言はありますか？",
    "日常生活で最近改善したことは？",
    "ストレスを感じる場面はどんな時ですか？",
    "将来、挑戦してみたいビジネスやプロジェクトは？",
    "最近あったラッキーな出来事は？",
    "一番最近買った家電は何ですか？",
    "休暇を1ヶ月取れるなら何をしますか？",
    "好きなスイーツやお菓子は？",
    "一番好きな香りは何ですか？",
    "子供の頃の得意科目は？",
    "将来の夢が叶ったら誰に最初に報告しますか？",
    "あなたがリラックスできる空間とはどんな場所？",
    "最近新しく始めた趣味はありますか？",
    "旅行中に必ず買うお土産は何ですか？",
    "最近した贅沢な買い物は何ですか？",
    "もし過去の自分に会えたらどんなアドバイスをしますか？",
    "理想の休日に行きたいお店や施設は？",
    "理想の一日の過ごし方を教えてください。",
    "あなたにとって幸せを感じる瞬間は？",
    "印象に残っている映画のワンシーンは？",
    "気分転換したいときによく食べるものは？",
    "最近挑戦したくてもできていないことは？",
    "友達や同僚に感謝されたエピソードは？",
    "一日の中で最も好きな瞬間は？",
    "子供の頃に戻って食べたい料理は？",
    "今、一番大切にしたいことは？",
    "もし料理人になったらどんな料理を極めたい？",
    "人生を変えた一冊はありますか？",
    "あなたの理想の週末プランは？",
    "一番好きなデザートは？",
    "好きな飲み物（アルコール以外）は何ですか？",
    "一番お気に入りのコンビニ商品は？",
    "旅行先で食べて忘れられない味は？",
    "最近、誰かにおすすめしたい商品は？",
    "自分が思う一番贅沢な過ごし方は？",
    "いつか挑戦してみたいアウトドア活動は？",
    "最近新しく知った面白い言葉や表現は？",
    "あなたが好きな街並みはどこですか？",
    "友達と過ごすときに欠かせないものは？",
    "理想の休暇の過ごし方を教えてください。",
    "自分を天気に例えるならどんな天気？",
    "お気に入りのスイーツは何ですか？",
    "好きなパンの種類は何ですか？",
    "人生で一番印象に残った贈り物は？",
    "朝起きて最初にすることは？",
    "最近読んで面白かったニュースは？",
    "自分にとって癒しの存在とは何？",
    "今、挑戦していることはありますか？",
    "これから食べてみたい世界の料理は？",
    "好きな色とその理由は？",
    "あなたの気分を上げる音楽は？",
    "人と話す時に気をつけているポイントは？",
    "あなたが好きな香りや匂いは？",
    "好きなカフェや喫茶店はありますか？",
    "最近、買い物で失敗したことはありますか？",
    "夏の思い出で印象深いことは？",
    "好きなテレビ番組やバラエティ番組は？",
    "普段飲んでいるお気に入りの飲み物は？",
    "最近やってよかった健康法は？",
    "休日に一人で行きたい場所は？",
    "あなたにとって最高の癒しは何ですか？",
    "人には理解されないけど自分が好きなものは？",
    "最近感謝したことはありますか？",
    "もし今から新しいことを学ぶなら何を学びますか？",
    "人生で一度はやってみたい贅沢は？",
    "あなたにとって欠かせないお気に入りの文房具は？",
    "好きなフルーツを教えてください。",
    "もし時間を自由に使える日があれば何をしますか？",
    "最近食べて感動した料理は？",
    "もし無限にお金が使えたら何をしますか？",
    "毎日でも飽きない飲み物はありますか？",
    "あなたが好きな景色や場所はどこ？",
    "疲れたときに食べたくなるものは何ですか？",
    "好きなアニメやキャラクターは？",
    "好きな飲み物のブランドは何ですか？",
    "今一番会いたい人は誰ですか？",
    "最近チャレンジして成功したことは？",
    "自分にとってのパワースポットはどこですか？",
    "最近興味を持ったジャンルや分野は何ですか？",
  ];
  
  const newQuestionInput = document.getElementById("newQuestion");
  const addButton = document.getElementById("addButton");
  const randomBtn = document.getElementById("randomBtn");
  const closeModalBtn = document.getElementById("closeModalBtn");
  const overlay = document.getElementById("overlay");
  const modalContent = document.querySelector(".modal-content");
  
  let questions = [];
  
  // 初回ロード
  function loadQuestions(callback) {
    chrome.storage.local.get(["questions"], (result) => {
      questions = result.questions || defaultQuestions;
      if (!result.questions) {
        chrome.storage.local.set({ questions });
      }
      if (callback) callback();
    });
  }
  
  document.addEventListener("DOMContentLoaded", () => {
    loadQuestions();
  });
  
  // 質問追加
  function addQuestion() {
    const question = newQuestionInput.value.trim();
    if (!question) return;
  
    questions.push(question);
    chrome.storage.local.set({ questions }, () => {
      alert(`質問を追加しました:\n${question}`);
      newQuestionInput.value = "";
    });
  }
  
  // カスタムモーダル表示（横幅900px）
  function randomQuestion() {
    loadQuestions(() => {
      if (questions.length === 0) {
        showModal("質問が登録されていません。");
        return;
      }
      const randomIndex = Math.floor(Math.random() * questions.length);
      showModal(questions[randomIndex]);
    });
  }
  
  // モーダル表示処理
  function showModal(text) {
    modalContent.textContent = text;
    overlay.style.display = "flex";
  }
  
  // モーダルを閉じる
  function closeModal() {
    overlay.style.display = "none";
  }
  
  // イベントリスナー
  addButton.addEventListener("click", addQuestion);
  newQuestionInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") addQuestion();
  });
  randomBtn.addEventListener("click", randomQuestion);
  closeModalBtn.addEventListener("click", closeModal);
